var CHAOS;(function(a){(function(a){(function(b){var a=function(){function a(){}a.Get=function(){return"GET"};a.Post=function(){return"POST"};return a}();b.HttpMethod=a})(a.Client||(a.Client={}));var b=a.Client})(a.Portal||(a.Portal={}));var b=a.Portal})(CHAOS||(CHAOS={}));/*@ sourceMappingURL=Data.js.map@*/;var CHAOS;(function(a){(function(a){(function(a){var c=function(){function a(a,c){if(typeof c==="undefined")c=null;this._authenticationType=null;if(typeof a==="undefined")throw"Parameter servicePath must be set";if(a.substr(-1)!="/")a+="/";this._servicePath=a;this.ClientGUID=c;this._sessionAcquired=new b(this);this._sessionAuthenticated=new b(this)}a.GetClientVersion=function(){return"2.0.0"};a.GetProtocolVersion=function(){return 6};a.prototype.GetServicePath=function(){return this._servicePath};a.prototype.GetCurrentSession=function(){return this._currentSession};a.prototype.HasSession=function(){return this.GetCurrentSession()!=null};a.prototype.IsAuthenticated=function(){return this._authenticationType!=null};a.prototype.SessionAcquired=function(){return this._sessionAcquired};a.prototype.SessionAuthenticated=function(){return this._sessionAuthenticated};a.prototype.CallService=function(e,f,c,a,b){if(typeof a==="undefined")a=null;if(typeof b==="undefined")b=true;if(a==null)a={};if(b){if(!this.HasSession())throw"Session not acquired";a.sessionGUID=this.GetCurrentSession().GUID}(new d).Call(e,this.GetServicePath()+"latest/"+f,c,a)};a.prototype.UpdateSession=function(a){this._currentSession=a;this._sessionAcquired.Raise(a)};a.prototype.SetSessionAuthenticated=function(a){this._authenticationType=a;this._sessionAuthenticated.Raise(a)};return a}();a.PortalClient=c;var d=function(){function b(){}b.prototype.Call=function(e,f,c,b){if(typeof b==="undefined")b=null;var g=this;if(b==null)b={};b.format="json";b.userHTTPStatusCodes="False";this._request=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");this._callback=e;if(e!=null)this._request.onreadystatechange=function(){return g.RequestStateChange()};var d=this.CreateQueryString(b);if(c==a.HttpMethod.Get()){f+="?"+d;d=null}this._request.open(c,f,true);c==a.HttpMethod.Post()&&this._request.setRequestHeader("Content-Type","application/x-www-form-urlencoded");this._request.send(d)};b.prototype.RequestStateChange=function(){if(this._request.readyState!=4)return;if(this._request.status==200){var a=JSON&&JSON.parse(this._request.responseText)||eval(this._request.responseText);if(a.Error!=null&&a.Error.Fullname==null)a.Error=null;this._callback(a)}else this._callback({Header:null,Result:null,Error:{Fullname:"ServiceError",Message:"Service call failed",Stacktrace:null,InnerException:null}})};b.prototype.CreateQueryString=function(a){var d="",c=true;for(var b in a){if(a[b]==null||typeof a[b]==="undefined")continue;d+=(c?"":"&")+b+"="+encodeURIComponent(a[b]);if(c)c=false}return d};return b}(),b=function(){function a(a){this.sender=a;this._handlers=[];if(typeof a==="undefined")throw"Parameter sender must be set";this._sender=a}a.prototype.Add=function(a){if(a==undefined||a==null)throw"handler must be defined";this._handlers.push(a)};a.prototype.Remove=function(b){if(b==undefined||b==null)throw"handler must be defined";for(var a=0;a<this._handlers.length;a++)if(this._handlers[a]===b){this._handlers.splice(a,1);return}};a.prototype.Raise=function(b){for(var a=0;a<this._handlers.length;a++)this._handlers[a].call(this._sender,b)};return a}()})(a.Client||(a.Client={}));var b=a.Client})(a.Portal||(a.Portal={}));var b=a.Portal})(CHAOS||(CHAOS={}));/*@ sourceMappingURL=PortalClient.js.map@*/;var CHAOS;(function(a){(function(a){(function(a){var c=function(){function c(){}c.Create=function(d,c){if(typeof d==="undefined")d=null;if(typeof c==="undefined")c=null;if(c==null)c=b.GetDefaultCaller();var e=function(a){a.Error==null&&c.UpdateSession(a.Result.Results[0]);d!=null&&d(a)};c.CallService(e,"Session/Create",a.HttpMethod.Get(),null,false)};return c}();a.Session=c;var d=function(){function c(){}c.AuthenticationType=function(){return"EmailPassword"};c.Login=function(e,h,g,d){if(typeof d==="undefined")d=null;if(d==null)d=b.GetDefaultCaller();var f=function(a){a.Error==null&&d.SetSessionAuthenticated(c.AuthenticationType());e!=null&&e(a)};d.CallService(f,"EmailPassword/Login",a.HttpMethod.Get(),{email:h,password:g},true)};return c}();a.EmailPassword=d;var e=function(){function c(){}c.AuthenticationType=function(){return"SecureCookie"};c.Create=function(d,c){if(typeof d==="undefined")d=null;if(typeof c==="undefined")c=null;if(c==null)c=b.GetDefaultCaller();c.CallService(d,"SecureCookie/Create",a.HttpMethod.Post(),null,true)};c.Login=function(e,h,g,d){if(typeof d==="undefined")d=null;if(d==null)d=b.GetDefaultCaller();var f=function(a){a.Error==null&&d.SetSessionAuthenticated(c.AuthenticationType());e!=null&&e(a)};d.CallService(f,"SecureCookie/Login",a.HttpMethod.Post(),{guid:h,passwordGUID:g},true)};return c}();a.SecureCookie=e;function f(g,e,d){if(typeof e==="undefined")e=null;if(typeof d==="undefined")d=true;var f=new a.PortalClient(g,e);d&&c.Create(null,f);b.SetDefaultCaller(f);return f}a.Initialize=f;var b=function(){function a(){}a._defaultCaller=null;a.GetDefaultCaller=function(){if(a._defaultCaller==null)throw new Error("Default service caller not set");return a._defaultCaller};a.SetDefaultCaller=function(b){a._defaultCaller=b};return a}();a.ServiceCallerService=b})(a.Client||(a.Client={}));var b=a.Client})(a.Portal||(a.Portal={}));var b=a.Portal})(CHAOS||(CHAOS={}));/*@ sourceMappingURL=PortalExtensions.js.map@*/;var CHAOS;(function(a){(function(b){(function(b){var c=function(){function b(){}b.Get=function(d,c,b){if(typeof d==="undefined")d=null;if(typeof c==="undefined")c=null;if(typeof b==="undefined")b=null;if(b==null)b=a.Portal.Client.ServiceCallerService.GetDefaultCaller();b.CallService(d,"MetadataSchema/Get",a.Portal.Client.HttpMethod.Get(),{metadataSchemaGUID:c},true)};return b}();b.MetadataSchema=c;var e=function(){function b(){}b.Get=function(d,f,c,e,b){if(typeof d==="undefined")d=null;if(typeof f==="undefined")f=null;if(typeof c==="undefined")c=null;if(typeof e==="undefined")e=null;if(typeof b==="undefined")b=null;if(b==null)b=a.Portal.Client.ServiceCallerService.GetDefaultCaller();b.CallService(d,"Folder/Get",a.Portal.Client.HttpMethod.Get(),{id:f,folderTypeID:c,parentID:e},true)};return b}();b.Folder=e;var f=function(){function b(){}b.Create=function(d,f,c,e,b){if(typeof b==="undefined")b=null;if(b==null)b=a.Portal.Client.ServiceCallerService.GetDefaultCaller();b.CallService(d,"Object/Create",a.Portal.Client.HttpMethod.Post(),{guid:f,objectTypeID:c,folderID:e},true)};b.Get=function(h,j,k,d,g,i,e,f,c,l,b){if(typeof h==="undefined")h=null;if(typeof j==="undefined")j=null;if(typeof k==="undefined")k=null;if(typeof d==="undefined")d=null;if(typeof g==="undefined")g=0;if(typeof i==="undefined")i=10;if(typeof e==="undefined")e=false;if(typeof f==="undefined")f=false;if(typeof c==="undefined")c=false;if(typeof l==="undefined")l=false;if(typeof b==="undefined")b=null;if(b==null)b=a.Portal.Client.ServiceCallerService.GetDefaultCaller();b.CallService(h,"Object/Get",a.Portal.Client.HttpMethod.Post(),{query:j,sort:k,accessPointGUID:d,pageIndex:g,pageSize:i,includeMetadata:e,includeFiles:f,includeObjectRelations:c},true)};b.GetByFolderID=function(l,m,d,k,e,i,j,f,h,a,c,g){if(typeof d==="undefined")d=true;if(typeof k==="undefined")k=null;if(typeof e==="undefined")e=null;if(typeof i==="undefined")i=0;if(typeof j==="undefined")j=10;if(typeof f==="undefined")f=false;if(typeof h==="undefined")h=false;if(typeof a==="undefined")a=false;if(typeof c==="undefined")c=false;if(typeof g==="undefined")g=null;b.Get(l,(d?"(FolderTree:":"(FolderID:")+m+")",k,e,i,j,f,h,a,c,g)};b.GetByObjectGUID=function(i,h,d,e,g,a,c,f){if(typeof d==="undefined")d=null;if(typeof e==="undefined")e=false;if(typeof g==="undefined")g=false;if(typeof a==="undefined")a=false;if(typeof c==="undefined")c=false;if(typeof f==="undefined")f=null;b.Get(i,"(GUID:"+h+")",null,d,0,1,e,g,a,c,f)};b.SetPublishSettings=function(f,d,c,e,g,b){if(typeof b==="undefined")b=null;if(b==null)b=a.Portal.Client.ServiceCallerService.GetDefaultCaller();b.CallService(f,"Object/SetPublishSettings",a.Portal.Client.HttpMethod.Post(),{objectGUID:d,accessPointGUID:c,startDate:e,endDate:g},true)};return b}();b.Object=f;var d=function(){function b(){}b.Set=function(h,f,c,d,g,e,b){if(typeof b==="undefined")b=null;if(b==null)b=a.Portal.Client.ServiceCallerService.GetDefaultCaller();b.CallService(h,"Metadata/Set",a.Portal.Client.HttpMethod.Post(),{objectGUID:f,metadataSchemaGUID:c,languageCode:d,revisionID:g,metadataXML:e},true)};return b}();b.Metadata=d})(b.Client||(b.Client={}));var c=b.Client})(a.Portal||(a.Portal={}));var b=a.Portal})(CHAOS||(CHAOS={}));/*@ sourceMappingURL=MCMExtensions.js.map@*/